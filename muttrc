# work with gmail (where i have everything bounce)
set imap_user = 'dfreedm2'
set spoolfile = imaps://imap.gmail.com:993/INBOX
set folder = imaps://imap.gmail.com:993
set postponed = "imaps://imap.gmail.com:993/Drafts"
set header_cache = "~/.mutt/cache/headers"
set message_cachedir = "~/.mutt/cache/bodies"
set certificate_file = "~/.mutt/certificates"
set timeout = 60
set mail_check = 30
set net_inc = 5
set sort = threads
set sort_aux = last-mailbox-order
set query_command = 'goobook query %s'
set use_envelope_from

# Use these folders
mailboxes ! =INBOX \
            =[Gmail]/Spam \
            =[Gmail]/"Sent Mail" \
            =Admin \
            =Exec \
            =Conference \
            =SigMil \
            =LUG \
            =Membership \
            =Save \
            =OpenAFS \
            =MechMania \
            =sls-l \
            =AMP \
            =410 \
            =PPL \
            =429

# Set up my sig
set from = 'Daniel Freedman <dfreedm2@gmail.com>'
set use_from = yes
set signature = "~/.mutt/sig"

# keybindings
# j/k should scroll in messages. h for previous, l is next!
bind pager j        next-line
bind pager k        previous-line
bind pager h        previous-undeleted
bind pager H        previous-entry
bind pager L        next-entry
bind pager l        next-undeleted
bind pager <Space>  next-page
bind pager \;       previous-page
bind index G        imap-fetch-mail
bind index \;       previous-page
bind index ,        tag-prefix
bind index i        display-message

# save hooks
save-hook '~f nagios@status\.acm\.uiuc\.edu'    =Admin
save-hook '~f logcheck@acm\.uiuc\.edu'          =Admin
save-hook '~h root@.*\.?acm\.uiuc\.edu'         =Admin
save-hook '~h admin@acm\.uiuc\.edu'             =Admin
save-hook '~h webmaster@acm\.uiuc\.edu'         =Admin
save-hook '~h mailmain@acm\.uiuc\.edu'          =Admin
save-hook '~h news@(news)*\.acm\.uiuc\.edu'     =Admin
save-hook '~h exec@acm\.uiuc\.edu'              =Exec
save-hook '~h conference@acm\.uiuc\.edu'        =Conference
save-hook '~h lug-l@acm\.uiuc\.edu'             =LUG
save-hook '~t membership-l@acm\.uiuc\.edu'      =Membership
save-hook '~t cluster-l@acm\.uiuc\.edu'         =Membership
save-hook '~t jobs-l@acm\.uiuc\.edu'            =Membership
save-hook '~h openafs-announce.*@openafs\.org'  =OpenAFS
save-hook '~h mm-.*@acm\.uiuc\.edu'             =MechMania
save-hook '~h amp-l@acm\.uiuc\.edu'             =AMP
save-hook '~h sysadmin-ppl@cs\.uiuc\.edu'       =PPL

#last one, catchall
save-hook '~f .*'                               =Save

#folder hooks for faster reading
folder-hook '.'       'set read_inc=1000'
folder-hook '^imap'   'set read_inc=100'

#Fuck FCC
fcc-save-hook '.*'    /dev/null
set fcc_clear=no

# Looser globbing
set nostrict_threads

# Don't wait for sendmail
set sendmail_wait=-1

# What is old even?
set mark_old=no

# Make emails pretty when printed.
set print_command="a2ps -1 --borders=no -g -Email"

# Don't ask before appending emails to an existing mailbox; just do it.
set confirmappend=no

# Page-down at the end of a message should not go to the next message.
set pager_stop

# If the body of the email would trigger ">From" munging, use a character
# encoding that will avoid the problem.
set encode_from=yes

# Debian's mutt will let me set titlebars.
set xterm_set_titles=yes

#aliases
alias admin         admin@acm.uiuc.edu
alias exec          exec@acm.uiuc.edu
alias top4          top4@acm.uiuc.edu

# header weeding
ignore *
unignore from date subject to cc reply-to

# prefer anything but HTML
alternative_order text/enriched text/plain text/html

# display w3m-rendered HTML inline
auto_view text/html
